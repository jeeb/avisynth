<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<!--
Not Automatically generated, changed!:
$Id: syntax_operators.htm,v 1.6 2012/03/11 16:05:32 wilbertd Exp $ 
-->
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title>Syntax - Operators</title>
<link rel="stylesheet" type="text/css" href="../avisynth.css">
</head>
<body>
<h2>AviSynth Syntax - Operators</h2>
<p>As in all programming and scripting languages, operators in AviSynth script
language allow the performance of actions (operations) onto <a href="syntax_script_variables.htm" title="Script variables">variables</a>.
Operators form the basis for building up expressions, the building blocks of
AviSynth scripts.</p>
<p>AviSynth operators follow loosely the same rules as C operators, regarding
meaning, precedence and associativity. By loosely we mean that there are some
exceptions, indicated in the text below.</p>
<p>Note that when a binary operator is applied to an int and a float, the int is
first converted to float, as in C.</p>
<a name="Available_Operators_per_Type"></a>
<h3>Available Operators per Type</h3>
<p>For <b>all types</b> of operands (clip, int, float, string, bool) you can use
the following operators:</p>
<table border="1" cellspacing="2">
  <tbody>
    <tr>
      <td>==</td>
      <td>is equal</td>
    </tr>
    <tr>
      <td>&nbsp;!=</td>
      <td>not equal</td>
    </tr>
    <tr>
      <td>&lt;&gt;</td>
      <td>not equal (alternative to&nbsp;!=, v2.07)</td>
    </tr>
  </tbody>
</table>
<p>String comparisons are not case-sensitive, so &quot;abc&quot; ==
&quot;ABC&quot; returns <i>true</i>.</p>
<p>For <b>numeric</b> types (int, float) you can use the following
int/float-specific operators:</p>
<table border="1" cellspacing="2">
  <tbody>
    <tr>
      <td>+</td>
      <td>add</td>
    </tr>
    <tr>
      <td>-</td>
      <td>subtract</td>
    </tr>
    <tr>
      <td>*</td>
      <td>multiply</td>
    </tr>
    <tr>
      <td>/</td>
      <td>divide</td>
    </tr>
    <tr>
      <td>%</td>
      <td>mod</td>
    </tr>
    <tr>
      <td>&gt;=</td>
      <td>greater or equal than</td>
    </tr>
    <tr>
      <td>&lt;=</td>
      <td>less or equal than</td>
    </tr>
    <tr>
      <td>&lt;</td>
      <td>less than</td>
    </tr>
    <tr>
      <td>&gt;</td>
      <td>greater than</td>
    </tr>
  </tbody>
</table>
<p><i>AviSynth in former versions parsed expressions from right to left, which
gave unexpected results.</i> For example:</p>
<ul>
  <li>a = 10 - 5 - 5 resulted in 10 - (5 - 5) = 10 instead of (10 - 5) - 5 = 0&nbsp;!</li>
  <li>b = 100. / 2. / 4. resulted in 100. / (2. / 4.) = 200 instead of (100. /
    2.) / 4. = 12.5&nbsp;!</li>
</ul>
<p>These &quot;bugs&quot; have been corrected in v2.53!</p>
<p>For <b>string</b> type you can use the following string-specific operators:</p>
<table border="1" cellspacing="2">
  <tbody>
    <tr>
      <td>+</td>
      <td>concatenate</td>
    </tr>
    <tr>
      <td>&gt;=</td>
      <td>greater or equal than (v2.07)</td>
    </tr>
    <tr>
      <td>&lt;=</td>
      <td>less or equal than (v2.07)</td>
    </tr>
    <tr>
      <td>&lt;</td>
      <td>less than (v2.07)</td>
    </tr>
    <tr>
      <td>&gt;</td>
      <td>greater than (v2.07)</td>
    </tr>
  </tbody>
</table>
<p>Like the equality operator, these string comparisons are case-insensitive.</p>
<p>For <b>clip</b> type you can use the following clip-specific operators:</p>
<table border="1" cellspacing="2">
  <tbody>
    <tr>
      <td>+</td>
      <td>the same as the function <a href="corefilters/splice.htm" title="Splice">UnalignedSplice</a></td>
    </tr>
    <tr>
      <td>++</td>
      <td>the same as the function <a href="corefilters/splice.htm" title="Splice">AlignedSplice</a></td>
    </tr>
  </tbody>
</table>
<p>For <b>bool</b> type (true/false) you can use the following bool-specific
operators:</p>
<table border="1" cellspacing="2">
  <tbody>
    <tr>
      <td>||</td>
      <td>or</td>
    </tr>
    <tr>
      <td>&amp;&amp;</td>
      <td>and</td>
    </tr>
    <tr>
      <td>&nbsp;?:</td>
      <td>execute code conditionally</td>
    </tr>
    <tr>
      <td>!</td>
      <td>not</td>
    </tr>
  </tbody>
</table>
<p>The conditional execution operator is used as in the following example:</p>
<pre>b = (a==true)&nbsp;? 1&nbsp;: 2</pre>
<p>This means in pseudo-basic:</p>
<pre>if (a=true) then b=1 else b=2</pre>
<p>From version v2.07, AviSynth provides a NOP() function which can be used
inside a conditional execution block in cases where &quot;else&quot; may not
otherwise be desirable (such as a conditional <a href="corefilters/import.htm" title="Import">Import</a>
or <a href="syntax_plugins.htm">LoadPlugin</a>).</p>
<a name="Operator_Precedence"></a>
<h3><span class="mw-headline">Operator Precedence</span></h3>
<p>The precedence of AviSynth operators is presented at the table below.
Operators higher to the top of the table have higher precedence. Operators
inside the same row have the same order of precedence.</p>
<table border="1" cellspacing="2">
  <tbody>
    <tr>
      <td>*</td>
      <td>/</td>
      <td>%</td>
      <td colspan="4">&nbsp;</td>
    </tr>
    <tr>
      <td>+</td>
      <td>++</td>
      <td>-</td>
      <td colspan="4">&nbsp;</td>
    </tr>
    <tr>
      <td>&lt;</td>
      <td>&gt;</td>
      <td>&lt;=</td>
      <td>&gt;=</td>
      <td>&nbsp;!=</td>
      <td>&lt;&gt;</td>
      <td>==</td>
    </tr>
    <tr>
      <td>&amp;&amp;</td>
      <td colspan="6">&nbsp;</td>
    </tr>
    <tr>
      <td>||</td>
      <td colspan="6">&nbsp;</td>
    </tr>
    <tr>
      <td>&nbsp;?:</td>
      <td colspan="6">&nbsp;</td>
    </tr>
  </tbody>
</table>
<p>The dot symbol (<b>.</b>), used in the &quot;OOP notation&quot; for a
function call, is not strictly an operator, but effectively has a higher
precedence than any operator symbol. So for example, <code>a + b.f(args)</code>
means <code>a + f(b, args)</code> and not <code>f(a+b, args)</code> (which could
be written as <code>(a+b).f(args)</code>)</p>
<p><kbd>$Date: 2012/03/11 16:05:32 $</kbd></p>
</body>
</html>
